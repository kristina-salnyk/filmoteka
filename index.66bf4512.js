!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var l,u=a("bpxeT"),c=a("2TvXO"),s=a("l1krc"),o=a("cqmI4"),i=(u=a("bpxeT"),c=a("2TvXO"),o=a("cqmI4"),u=a("bpxeT"),c=a("2TvXO"),a("lu0v5")),d=a("4s6iC"),f=a("aYvV9"),p=a("daTbb"),v=a("2hVIf"),m=(l=e(u)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{query:S.searchQuery,page:S.page,include_adult:S.includeAdult}},r=d.REQUEST_URL.SEARCH,e.prev=2,e.next=5,i.default.get(r,n);case 5:return a=e.sent,p.default.save(v.default.LAST_FETCH,"SEARCH"),e.abrupt("return",a.data);case 10:e.prev=10,e.t0=e.catch(2),f.default.failedRequest();case 13:case"end":return e.stop()}}),t,null,[[2,10]])}))),function(){return l.apply(this,arguments)}),h=a("dDDEV"),y=(o=a("cqmI4"),a("jcFG7")),T=function(t){var n=t.results,r=t.total_pages;if(0!==t.total_results){(0,y.default)(r,S.page);var a=n.map((function(t){var n=e(h)({},t);n.genres=t.genre_ids.map((function(e){return S.getGenreById(e)})).join(", ");var r=new Date(t.release_date);return n.year=r.getFullYear(),n.vote=t.vote_average.toFixed(1),n}));G.appendGalleryMarkup(a)}else o.default.searchError.style.display="block"},b=a("j1lrD"),g=function(){var t=e(u)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o.default.searchError.style.display="none",r=n.currentTarget.elements.searchQuery.value.trim()){e.next=6;break}return o.default.searchError.style.display="block",e.abrupt("return");case 6:return S.setSearchQuery(r),e.prev=7,b.spinner.spin(o.default.homeGallery),e.next=11,m();case 11:a=e.sent,b.spinner.stop(),T(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),o.default.searchError.style.display="block";case 19:case"end":return e.stop()}}),t,null,[[7,16]])})));return function(e){return t.apply(this,arguments)}}(),E=(u=a("bpxeT"),c=a("2TvXO"),a("bDPyF")),w=a("frmlX"),x=(f=a("aYvV9"),b=a("j1lrD"),o=a("cqmI4"),function(){var t=e(u)(e(c).mark((function t(n){var r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=n.target.closest("a").dataset.id,e.prev=2,b.spinner.spin(o.default.homeGallery),e.next=6,(0,E.fetchMovieById)(r);case 6:a=e.sent,b.spinner.stop(),(0,w.renderOneMovieData)(a,G.appendMovieMarkup),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),f.default.failedRequest();case 14:case"end":return e.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()),k=a("d5Phe"),L=(o=a("cqmI4"),function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&o.default.goTopBtn.classList.add("back-to-top_show"),e<t&&o.default.goTopBtn.classList.remove("back-to-top_show")}),R=function(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})},M=a("8pYMx"),q=a("1MwiW"),_=a("8gEWs"),D=a("hV87x"),G={setHomeEventListeners:function(){o.default.searchForm.addEventListener("submit",g),o.default.homeGallery.addEventListener("click",x),o.default.goTopBtn.addEventListener("click",R),window.addEventListener("scroll",L)},appendGalleryMarkup:function(e){o.default.homeGallery.innerHTML=(0,M.default)(e)},appendMovieMarkup:function(e){(0,k.dynamicRefs)().movieData.innerHTML=(0,q.default)(e),(0,k.dynamicRefs)().watchedBtn.addEventListener("click",_.modalWatchedBtnClickHandler),(0,k.dynamicRefs)().queueBtn.addEventListener("click",_.modalQueueBtnClickHandler),(0,_.onOpenModal)(e.id),(0,k.dynamicRefs)().playTrailer.addEventListener("click",D.httpsYouTubeVideo)},scrollToUp:function(){window.scrollBy(0,0)}},H=(f=a("aYvV9"),u=a("bpxeT"),c=a("2TvXO"),i=a("lu0v5"),d=a("4s6iC"),f=a("aYvV9"),function(){var t=e(u)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d.REQUEST_URL.GENRES),e.prev=1,e.next=4,i.default.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(1),f.default.failedRequest();case 11:case"end":return e.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()),B=(u=a("bpxeT"),c=a("2TvXO"),i=a("lu0v5"),d=a("4s6iC"),f=a("aYvV9"),p=a("daTbb"),v=a("2hVIf"),function(){var t=e(u)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{page:S.page}},r="".concat(d.REQUEST_URL.TRENDING,"/").concat(S.mediaType,"/").concat(S.timeWindow),e.prev=2,e.next=5,i.default.get(r,n);case 5:return a=e.sent,p.default.save(v.default.LAST_FETCH,"TRENDING"),e.abrupt("return",a.data);case 10:e.prev=10,e.t0=e.catch(2),f.default.failedRequest();case 13:case"end":return e.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}());!function(){var e={openModalBtn:document.querySelector("[data-footer-modal-open]"),closeModalBtn:document.querySelector("[data-footer-modal-close]"),footerModal:document.querySelector("[data-modal]")};function t(){document.body.classList.toggle("modal-open"),e.footerModal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)}(),a("28ryW");u=a("bpxeT"),c=a("2TvXO"),o=a("cqmI4"),k=a("d5Phe"),f=a("aYvV9"),p=a("daTbb"),v=a("2hVIf"),b=a("j1lrD");function I(){return O.apply(this,arguments)}function O(){return(O=e(u)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("TRENDING"!==p.default.load(v.default.LAST_FETCH)){e.next=13;break}return e.prev=1,b.spinner.spin(o.default.homeGallery),e.next=5,B();case 5:n=e.sent,b.spinner.stop(),T(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.default.failedRequest();case 13:if("SEARCH"!==p.default.load(v.default.LAST_FETCH)){e.next=26;break}return e.prev=14,b.spinner.spin(o.default.homeGallery),e.next=18,m();case 18:r=e.sent,b.spinner.stop(),T(r),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(14),f.default.failedRequest();case 26:case"end":return e.stop()}}),t,null,[[1,10],[14,23]])})))).apply(this,arguments)}(0,k.dynamicRefs)().paginList.addEventListener("click",(function(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;if("0"!==e.target.dataset.number){var t=Number(e.target.dataset.number);S.page=t,o.default.homeGallery.innerHTML="",I()}})),(0,k.dynamicRefs)().rightArrow.addEventListener("click",(function(){S.incrementPage(),o.default.homeGallery.innerHTML="",I()})),(0,k.dynamicRefs)().leftArrow.addEventListener("click",(function(){S.decrementPage(),o.default.homeGallery.innerHTML="",I()}));b=a("j1lrD"),o=a("cqmI4");var S=new(0,s.default);function C(){return(C=e(u)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G.setHomeEventListeners(),e.prev=1,b.spinner.spin(o.default.homeGallery),e.next=5,H();case 5:return n=e.sent,r=n.genres,S.genres=r,e.next=10,B();case 10:a=e.sent,b.spinner.stop(),T(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),f.default.failedRequest();case 18:case"end":return e.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}(function(){return C.apply(this,arguments)})().catch((function(e){f.default.failedRequest()}))}();
//# sourceMappingURL=index.66bf4512.js.map
