!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r);var c,u=r("bpxeT"),o=r("2TvXO"),l=r("l1krc"),s=r("cqmI4"),d=(u=r("bpxeT"),o=r("2TvXO"),s=r("cqmI4"),u=r("bpxeT"),o=r("2TvXO"),r("lu0v5")),i=r("4s6iC"),f=r("aYvV9"),p=r("daTbb"),v=r("2hVIf"),m=(c=e(u)(e(o).mark((function t(){var n,a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{query:C.searchQuery,page:C.page,include_adult:C.includeAdult}},a=i.REQUEST_URL.SEARCH,e.prev=2,e.next=5,d.default.get(a,n);case 5:return r=e.sent,p.default.save(v.default.LAST_FETCH,"SEARCH"),e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(2),f.default.failedRequest();case 13:case"end":return e.stop()}}),t,null,[[2,10]])}))),function(){return c.apply(this,arguments)}),h=r("dDDEV"),y=(s=r("cqmI4"),r("jcFG7")),T=function(t){var n=t.results,a=t.total_pages;if(0!==t.total_results){(0,y.default)(a,C.page);var r=n.map((function(t){var n=e(h)({},t);n.genres=t.genre_ids.map((function(e){return C.getGenreById(e)})).join(", ");var a=new Date(t.release_date);return n.year=a.getFullYear(),n.vote=t.vote_average.toFixed(1),n}));H.appendGalleryMarkup(r)}else s.default.searchError.style.display="block"},b=function(){var t=e(u)(e(o).mark((function t(n){var a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s.default.searchError.style.display="none",a=n.currentTarget.elements.searchQuery.value.trim()){e.next=6;break}return s.default.searchError.style.display="block",e.abrupt("return");case 6:return C.setSearchQuery(a),e.prev=7,e.next=10,m();case 10:r=e.sent,T(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),s.default.searchError.style.display="block";case 17:case"end":return e.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}(),g=(u=r("bpxeT"),o=r("2TvXO"),r("bDPyF")),E=r("frmlX"),w=(f=r("aYvV9"),function(){var t=e(u)(e(o).mark((function t(n){var a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=n.target.closest("a").dataset.id,e.prev=2,e.next=5,(0,g.fetchMovieById)(a);case 5:r=e.sent,(0,E.renderOneMovieData)(r,H.appendMovieMarkup),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),f.default.failedRequest();case 12:case"end":return e.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()),x=r("d5Phe"),k=(s=r("cqmI4"),function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&s.default.goTopBtn.classList.add("back-to-top_show"),e<t&&s.default.goTopBtn.classList.remove("back-to-top_show")}),L=function(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})},R=r("8pYMx"),M=r("1MwiW"),q=r("8gEWs"),_=r("hV87x"),H={setHomeEventListeners:function(){s.default.searchForm.addEventListener("submit",b),s.default.homeGallery.addEventListener("click",w),s.default.goTopBtn.addEventListener("click",L),window.addEventListener("scroll",k)},appendGalleryMarkup:function(e){s.default.homeGallery.innerHTML=(0,R.default)(e)},appendMovieMarkup:function(e){(0,x.dynamicRefs)().movieData.innerHTML=(0,M.default)(e),(0,x.dynamicRefs)().watchedBtn.addEventListener("click",q.modalWatchedBtnClickHandler),(0,x.dynamicRefs)().queueBtn.addEventListener("click",q.modalQueueBtnClickHandler),(0,q.onOpenModal)(e.id),(0,x.dynamicRefs)().playTrailer.addEventListener("click",_.httpsYouTubeVideo)},scrollToUp:function(){window.scrollBy(0,0)}},B=(f=r("aYvV9"),u=r("bpxeT"),o=r("2TvXO"),d=r("lu0v5"),i=r("4s6iC"),f=r("aYvV9"),function(){var t=e(u)(e(o).mark((function t(){var n,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i.REQUEST_URL.GENRES),e.prev=1,e.next=4,d.default.get(n);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),f.default.failedRequest();case 11:case"end":return e.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()),O=(u=r("bpxeT"),o=r("2TvXO"),d=r("lu0v5"),i=r("4s6iC"),f=r("aYvV9"),p=r("daTbb"),v=r("2hVIf"),function(){var t=e(u)(e(o).mark((function t(){var n,a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:{page:C.page}},a="".concat(i.REQUEST_URL.TRENDING,"/").concat(C.mediaType,"/").concat(C.timeWindow),e.prev=2,e.next=5,d.default.get(a,n);case 5:return r=e.sent,p.default.save(v.default.LAST_FETCH,"TRENDING"),e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(2),f.default.failedRequest();case 13:case"end":return e.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}());!function(){var e={openModalBtn:document.querySelector("[data-footer-modal-open]"),closeModalBtn:document.querySelector("[data-footer-modal-close]"),footerModal:document.querySelector("[data-modal]")};function t(){document.body.classList.toggle("modal-open"),e.footerModal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",t),e.closeModalBtn.addEventListener("click",t)}(),r("28ryW");u=r("bpxeT"),o=r("2TvXO"),s=r("cqmI4"),x=r("d5Phe"),f=r("aYvV9"),p=r("daTbb"),v=r("2hVIf");function S(){return D.apply(this,arguments)}function D(){return(D=e(u)(e(o).mark((function t(){var n,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("TRENDING"!==p.default.load(v.default.LAST_FETCH)){e.next=11;break}return e.prev=1,e.next=4,O();case 4:n=e.sent,T(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.default.failedRequest();case 11:if("SEARCH"!==p.default.load(v.default.LAST_FETCH)){e.next=22;break}return e.prev=12,e.next=15,m();case 15:a=e.sent,T(a),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(12),f.default.failedRequest();case 22:case"end":return e.stop()}}),t,null,[[1,8],[12,19]])})))).apply(this,arguments)}(0,x.dynamicRefs)().paginList.addEventListener("click",(function(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;if("0"!==e.target.dataset.number){var t=Number(e.target.dataset.number);C.page=t,s.default.homeGallery.innerHTML="",S()}})),(0,x.dynamicRefs)().rightArrow.addEventListener("click",(function(){C.incrementPage(),s.default.homeGallery.innerHTML="",S()})),(0,x.dynamicRefs)().leftArrow.addEventListener("click",(function(){C.decrementPage(),s.default.homeGallery.innerHTML="",S()}));var C=new(0,l.default);function G(){return(G=e(u)(e(o).mark((function t(){var n,a,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H.setHomeEventListeners(),e.prev=1,e.next=4,B();case 4:return n=e.sent,a=n.genres,C.genres=a,e.next=9,O();case 9:r=e.sent,T(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f.default.failedRequest();case 16:case"end":return e.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}(function(){return G.apply(this,arguments)})().catch((function(e){f.default.failedRequest()}))}();
//# sourceMappingURL=index.2b27fbb7.js.map
