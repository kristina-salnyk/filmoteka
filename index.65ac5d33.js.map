{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCCAAC,EAAAD,EAAA,S,0BAIO,MAAME,EAAkBC,UAC7B,IAEE,aADuBF,EAAAG,QAAIC,IAAIC,EAAAC,YAAYC,SAC3BC,I,CAChB,MAAOC,GACPC,EAAAP,QAAcQ,e,qJDQlB,EAAAC,EAAAC,oBAAmBC,EAAAC,MAAMC,IACnBF,EAAAC,KAAKE,YACPC,EAAAf,QAAKgB,oBAAoBC,YAAc,UAEvCF,EAAAf,QAAKgB,oBAAoBC,YAAc,QAAQ,IAQnDlB,iBACEmB,EAAAlB,QAAWmB,wBAEX,IACEC,EAAAC,QAAQC,KAAKP,EAAAf,QAAKuB,aAClB,MAAMC,QAAmB1B,KACnB2B,OAAEA,GAAWD,EACnB7B,EAAA+B,YAAYD,OAASA,EAErB,MAAME,QAAqB,EAAAC,EAAAC,uBAC3BT,EAAAC,QAAQS,QACR,EAAAC,EAAAC,kBAAiBL,E,CACjB,MAAOrB,GACPC,EAAAP,QAAcQ,e,EAjBlByB,GAAeC,OAAM5B,IACnBC,EAAAP,QAAcQ,eAAe","sources":["src/index.js","src/js/api/movie-api/fetchGenresList.js"],"sourcesContent":["import { siteConfigs } from './js/SiteConfigs';\nimport homePageUi from './js/ui/home-page-ui';\nimport notifications from './js/notifications';\nimport './js/api/firebase/fire-base-service';\nimport { fetchGenresList } from './js/api/movie-api/fetchGenresList';\nimport { fetchTrendingMovies } from './js/api/movie-api/fetchTrendingMovies';\nimport { renderMoviesData } from './js/render/renderMoviesData';\nimport './js/footer-modal';\nimport './js/registration-modal';\nimport './js/load-page-pagination';\nimport './js/theme';\nimport { spinner } from './js/spinner';\nimport refs from './js/refs/refs';\nimport './js/swiper-slider';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './js/api/firebase/fire-base-service';\n\nonAuthStateChanged(auth, user => {\n  if (auth.currentUser) {\n    refs.openRegistrationBtn.textContent = 'Log out';\n  } else {\n    refs.openRegistrationBtn.textContent = 'Log in';\n  }\n});\n\ninitHomePage().catch(error => {\n  notifications.failedRequest();\n});\n\nasync function initHomePage() {\n  homePageUi.setHomeEventListeners();\n\n  try {\n    spinner.spin(refs.homeGallery);\n    const genresData = await fetchGenresList();\n    const { genres } = genresData;\n    siteConfigs.genres = genres;\n\n    const trendingData = await fetchTrendingMovies();\n    spinner.stop();\n    renderMoviesData(trendingData);\n  } catch (error) {\n    notifications.failedRequest();\n  }\n}\n","import api from './api';\nimport { REQUEST_URL } from '../../constants';\nimport notifications from '../../notifications';\n\nexport const fetchGenresList = async () => {\n  try {\n    const response = await api.get(REQUEST_URL.GENRES);\n    return response.data;\n  } catch (error) {\n    notifications.failedRequest();\n  }\n};\n"],"names":["$oxp97","parcelRequire","$3v5re","$da7107c2aff43685$export$d60bdeaf43923027","async","default","get","$8G1wF","REQUEST_URL","GENRES","data","error","$2Dfe2","failedRequest","$amyG6","onAuthStateChanged","$cZbQA","auth","user","currentUser","$3ILHO","openRegistrationBtn","textContent","$6ncSZ","setHomeEventListeners","$04jNI","spinner","spin","homeGallery","genresData","genres","siteConfigs","trendingData","$ktgHt","fetchTrendingMovies","stop","$gm4HR","renderMoviesData","$1f0dc3b9307be026$var$initHomePage","catch"],"version":3,"file":"index.65ac5d33.js.map"}