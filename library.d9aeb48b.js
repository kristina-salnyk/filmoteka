var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var r={id:e,exports:{}};return a[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,a){t[e]=a},e.parcelRequired7c6=n);var r=n("53vTJ"),l=n("3ILHO"),d=(l=n("3ILHO"),n("4dtAK")),i=n("8LAK9"),s=n("ag3f1"),o=n("2nhTy");const c=e=>{l.default.watchedTab.classList.add("tabs__btn--current"),l.default.queueTab.classList.remove("tabs__btn--current"),l.default.libraryGallery.innerHTML="";const a=d.default.load(i.default.WATCHED_MOVIES);u(a).then((e=>{f(e)}))},u=async e=>{const a=e.map((e=>(0,s.fetchMovieById)(e)));return await Promise.all(a)},f=e=>{(0,o.default)((e.length/20).toFixed(),w.page);const a=e.map((e=>{const a={...e};a.genres=e.genres.map((e=>e.name)).join(", ");const t=new Date(e.release_date);return a.year=t.getFullYear(),a.vote=e.vote_average.toFixed(1),a}));_.appendGalleryMarkup(a)};l=n("3ILHO"),d=n("4dtAK"),i=n("8LAK9"),s=n("ag3f1"),o=n("2nhTy");const p=e=>{l.default.queueTab.classList.add("tabs__btn--current"),l.default.watchedTab.classList.remove("tabs__btn--current"),l.default.libraryGallery.innerHTML="";const a=d.default.load(i.default.QUEUE_MOVIES);v(a).then((e=>{y(e)}))},v=e=>{const a=e.map((e=>(0,s.fetchMovieById)(e)));return Promise.all(a)},y=e=>{(0,o.default)((e.length/20).toFixed(),w.page);const a=e.map((e=>{const a={...e};a.genres=e.genres.map((e=>e.name)).join(", ");const t=new Date(e.release_date);return a.year=t.getFullYear(),a.vote=e.vote_average.toFixed(1),a}));_.appendGalleryMarkup(a)};s=n("ag3f1");var b=n("cJ4l5"),L=n("2Dfe2");const g=async e=>{e.preventDefault();const a=e.target.closest("a").dataset.id;try{const e=await(0,s.fetchMovieById)(a);(0,b.renderOneMovieData)(e,_.appendMovieMarkup)}catch(e){L.default.failedRequest()}};var h=n("2gAtb"),T=n("hBEsZ"),m=n("b986f"),M=n("9TOT1"),E=n("bZJOo");var _={setLibraryEventListeners:()=>{l.default.watchedTab.addEventListener("click",c),l.default.queueTab.addEventListener("click",p),l.default.libraryGallery.addEventListener("click",g)},appendGalleryMarkup:e=>{l.default.libraryGallery.innerHTML=(0,h.default)(e)},appendMovieMarkup:e=>{(0,T.dynamicRefs)().movieData.innerHTML=(0,m.default)(e),(0,T.dynamicRefs)().watchedBtn.addEventListener("click",M.modalWatchedBtnClickHandler),(0,T.dynamicRefs)().queueBtn.addEventListener("click",M.modalQueueBtnClickHandler),(0,M.onOpenModal)(e.id),(0,T.dynamicRefs)().playTrailer.addEventListener("click",E.httpsYouTubeVideo)}};L=n("2Dfe2");n("hEnct");const w=new(0,r.default);(async function(){_.setLibraryEventListeners(),c()})().catch((e=>{L.default.failedRequest()}));
//# sourceMappingURL=library.d9aeb48b.js.map
