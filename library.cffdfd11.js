var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var r={id:e,exports:{}};return a[e]=r,n.call(r.exports,r,r.exports),r.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,a){t[e]=a},e.parcelRequired7c6=n);var r=n("3ILHO"),l=(r=n("3ILHO"),n("4dtAK")),i=n("8LAK9"),d=n("ag3f1"),s=n("2nhTy"),o=n("04jNI"),c=n("oxp97");const u=e=>{r.default.watchedTab.classList.add("tabs__btn--current"),r.default.queueTab.classList.remove("tabs__btn--current"),r.default.libraryGallery.innerHTML="";const a=l.default.load(i.default.WATCHED_MOVIES);if(!a||0===a.length)return k.renderEmptyLibrary();f(a).then((e=>{p(e)}))},f=async e=>{o.spinner.spin(r.default.libraryGallery);const a=e.map((e=>(0,d.fetchMovieById)(e))),t=await Promise.all(a);return o.spinner.stop(),t},p=e=>{(0,s.default)(Math.ceil(e.length/20),c.siteConfigs.page);const a=e.map((e=>{const a={...e};a.genres=e.genres.map((e=>e.name)).join(", ");const t=new Date(e.release_date);return a.year=t.getFullYear(),a.vote=e.vote_average.toFixed(1),a}));k.appendGalleryMarkup(a)};r=n("3ILHO"),l=n("4dtAK"),i=n("8LAK9"),d=n("ag3f1"),c=n("oxp97"),s=n("2nhTy"),o=n("04jNI");const y=e=>{r.default.queueTab.classList.add("tabs__btn--current"),r.default.watchedTab.classList.remove("tabs__btn--current"),r.default.libraryGallery.innerHTML="";const a=l.default.load(i.default.QUEUE_MOVIES);if(!a||0===a.length)return k.renderEmptyLibrary();b(a).then((e=>{v(e)}))},b=e=>{o.spinner.spin(r.default.libraryGallery);const a=e.map((e=>(0,d.fetchMovieById)(e))),t=Promise.all(a);return o.spinner.stop(),t},v=e=>{(0,s.default)(Math.ceil(e.length/20),c.siteConfigs.page);const a=e.map((e=>{const a={...e};a.genres=e.genres.map((e=>e.name)).join(", ");const t=new Date(e.release_date);return a.year=t.getFullYear(),a.vote=e.vote_average.toFixed(1),a}));k.appendGalleryMarkup(a)};d=n("ag3f1");var L=n("cJ4l5"),g=n("2Dfe2");o=n("04jNI"),r=n("3ILHO");const h=async e=>{e.preventDefault();const a=e.target.closest("a").dataset.id;try{o.spinner.spin(r.default.libraryGallery);const e=await(0,d.fetchMovieById)(a);o.spinner.stop(),(0,L.renderOneMovieData)(e,k.appendMovieMarkup)}catch(e){g.default.failedRequest()}};var T=n("2gAtb"),m=n("hBEsZ"),E=n("9TiW2"),M=n("b986f"),w=n("9TOT1"),_=n("bZJOo");var k={setLibraryEventListeners:()=>{r.default.watchedTab.addEventListener("click",u),r.default.queueTab.addEventListener("click",y),r.default.libraryGallery.addEventListener("click",h),r.default.goTopBtn.addEventListener("click",E.backToTop),window.addEventListener("scroll",E.trackScroll)},appendGalleryMarkup:e=>{r.default.libraryGallery.innerHTML=(0,T.default)(e)},appendMovieMarkup:e=>{(0,m.dynamicRefs)().movieData.innerHTML=(0,M.default)(e),(0,m.dynamicRefs)().watchedBtn.addEventListener("click",w.modalWatchedBtnClickHandler),(0,m.dynamicRefs)().queueBtn.addEventListener("click",w.modalQueueBtnClickHandler),(0,w.onOpenModal)(e.id),(0,m.dynamicRefs)().playTrailer.addEventListener("click",_.httpsYouTubeVideo)},renderEmptyLibrary:function(){r.default.libraryGallery.insertAdjacentHTML("afterbegin",'<p class="empty-page__text"> Nothing to see here<br>Add a movie please</p>')},scrollToTop:()=>{window.scrollBy(0,0)}};g=n("2Dfe2");n("hEnct"),async function(){k.setLibraryEventListeners();try{u()}catch(e){g.default.failedRequest()}}().catch((e=>{g.default.failedRequest()}));
//# sourceMappingURL=library.cffdfd11.js.map
