{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,oECAAD,EAAAC,EAAA,S,sCAIaC,G,eAAkBC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAErBC,E,2FAAiBC,EAAAC,QAAIC,IAAIC,EAAAC,YAAYC,Q,cAArCN,EAAQO,EAAAC,K,kBACPR,EAASS,M,gCAEhBC,EAAAR,QAAcS,gB,2PDoBHC,I,OAAAA,EAAfhB,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,I,IAKUc,EACEC,EAGFC,E,yEARRC,EAAAd,QAAWe,wB,SAGTC,EAAAC,QAAQC,KAAKC,EAAAnB,QAAKoB,a,SACO3B,I,cAAnBkB,EAAUN,EAAAC,KACVM,EAAaD,EAAXC,OACRS,EAAAC,YAAYV,OAASA,E,WAEM,EAAAW,EAAAC,uB,QAArBX,EAAYR,EAAAC,KAClBU,EAAAC,QAAQQ,QACR,EAAAC,EAAAC,kBAAiBd,G,kDAEjBL,EAAAR,QAAcS,gB,2DAbSmB,MAAAC,KAAAC,U,EAZ3B,EAAAC,EAAAC,oBAAmBC,EAAAC,MAAM,SAAAC,GACnBF,EAAAC,KAAKE,YACPjB,EAAAnB,QAAKqC,oBAAoBC,YAAc,UAEvCnB,EAAAnB,QAAKqC,oBAAoBC,YAAc,Q,sBAQ5B5B,EAAYkB,MAAAC,KAAAC,U,CAJ3BS,GAAeC,OAAM,SAAAC,GACnBjC,EAAAR,QAAcS,e","sources":["src/index.js","src/js/api/movie-api/fetchGenresList.js"],"sourcesContent":["import { siteConfigs } from './js/SiteConfigs';\nimport homePageUi from './js/ui/home-page-ui';\nimport notifications from './js/notifications';\nimport './js/api/firebase/fire-base-service';\nimport { fetchGenresList } from './js/api/movie-api/fetchGenresList';\nimport { fetchTrendingMovies } from './js/api/movie-api/fetchTrendingMovies';\nimport { renderMoviesData } from './js/render/renderMoviesData';\nimport './js/footer-modal';\nimport './js/registration-modal';\nimport './js/load-page-pagination';\nimport './js/theme';\nimport { spinner } from './js/spinner';\nimport refs from './js/refs/refs';\nimport './js/swiper-slider';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from './js/api/firebase/fire-base-service';\n\nonAuthStateChanged(auth, user => {\n  if (auth.currentUser) {\n    refs.openRegistrationBtn.textContent = 'Log out';\n  } else {\n    refs.openRegistrationBtn.textContent = 'Log in';\n  }\n});\n\ninitHomePage().catch(error => {\n  notifications.failedRequest();\n});\n\nasync function initHomePage() {\n  homePageUi.setHomeEventListeners();\n\n  try {\n    spinner.spin(refs.homeGallery);\n    const genresData = await fetchGenresList();\n    const { genres } = genresData;\n    siteConfigs.genres = genres;\n\n    const trendingData = await fetchTrendingMovies();\n    spinner.stop();\n    renderMoviesData(trendingData);\n  } catch (error) {\n    notifications.failedRequest();\n  }\n}\n","import api from './api';\nimport { REQUEST_URL } from '../../constants';\nimport notifications from '../../notifications';\n\nexport const fetchGenresList = async () => {\n  try {\n    const response = await api.get(REQUEST_URL.GENRES);\n    return response.data;\n  } catch (error) {\n    notifications.failedRequest();\n  }\n};\n"],"names":["$bpxeT","parcelRequire","$e0741441063bbb43$export$d60bdeaf43923027","$parcel$interopDefault","$2TvXO","mark","_callee","response","$lu0v5","default","get","$4s6iC","REQUEST_URL","GENRES","_ctx","sent","data","$aYvV9","failedRequest","$b8f9b7833fa37166$var$_initHomePage","genresData","genres","trendingData","$4E4Pm","setHomeEventListeners","$j1lrD","spinner","spin","$cqmI4","homeGallery","$ismrh","siteConfigs","$8e3iG","fetchTrendingMovies","stop","$4TQEA","renderMoviesData","apply","this","arguments","$3SEMc","onAuthStateChanged","$fY8ZN","auth","user","currentUser","openRegistrationBtn","textContent","$b8f9b7833fa37166$var$initHomePage","catch","error"],"version":3,"file":"index.50314eb5.js.map"}